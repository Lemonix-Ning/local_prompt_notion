Data Transfer Awareness (æ•°æ®ä¼ è¾“æ„ŸçŸ¥) äº¤äº’æ–¹æ¡ˆ

è¯¥æ–¹æ¡ˆæ—¨åœ¨åˆ©ç”¨çµçŒ«ä½œä¸ºæ•°æ®æµåŠ¨çš„è§†è§‰åŒ–èº«ã€‚å½“è¿›è¡Œå¯¼å…¥æˆ–å¯¼å‡ºæ“ä½œæ—¶ï¼ŒçµçŒ«ä¼šé€šè¿‡å½¢æ€å˜åŒ–å’ŒåŠ¨æ€å›¾æ ‡ï¼Œè®©ä¸å¯è§çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹å˜å¾—å¯æ„ŸçŸ¥ã€‚

1. æ ¸å¿ƒé€»è¾‘ (Core Logic)

A. çŠ¶æ€ç®¡ç† (State Machine)

å¼•å…¥ä¸€ä¸ªæšä¸¾çŠ¶æ€ transferStateã€‚

çŠ¶æ€å€¼ï¼š'idle' (ç©ºé—²) | 'importing' (å¯¼å…¥ä¸­) | 'exporting' (å¯¼å‡ºä¸­)ã€‚

è§¦å‘ï¼šç‚¹å‡»å¯¹åº”çš„æ¨¡æ‹ŸæŒ‰é’®ã€‚

æŒç»­ï¼šä¿æŒçº¦ 2ç§’ï¼ˆæ¨¡æ‹Ÿæ•°æ®å¤„ç†è¿‡ç¨‹ï¼‰ã€‚

å¤ä½ï¼šå€’è®¡æ—¶ç»“æŸåè‡ªåŠ¨é‡ç½®ä¸º 'idle'ã€‚

B. åŠ¨ç”»ç¼–æ’ (Choreography)

ğŸ“¥ å¯¼å…¥æ¨¡å¼ (Importing) - "åå/æ¥æ”¶"

éšå–»ï¼šæ•°æ®ä»å¤©è€Œé™ï¼Œå‹åœ¨çµçŒ«èº«ä¸Šï¼Œæˆ–è€…è¢«çµçŒ«â€œåƒâ€è¿›å»ã€‚

ç‰©ç†åŠ¨ä½œ (Physics)ï¼š

Anticipation (é¢„å¤‡): èº«ä½“å¾®æŠ¬ (scaleY: 1.1)ï¼Œå‡†å¤‡è¿æ¥ã€‚

Contact (æ¥è§¦): èº«ä½“è¢«å‹æ‰ (scaleY: 0.8)ï¼Œäº§ç”Ÿé‡é‡æ„Ÿã€‚

Settle (æ¢å¤): å¼¹æ€§æ¢å¤åŸçŠ¶ã€‚

çœ¼ç›ï¼šå˜ä¸º æ¥æ”¶ç»¿ (#10B981)ï¼Œè§†çº¿å‘ä¸‹ (y: 5)ï¼Œä»¿ä½›åœ¨æ£€æŸ¥æ¥æ”¶åˆ°çš„è´§ç‰©ã€‚

åé¦ˆï¼šå¤´é¡¶å¼¹å‡º ä¸‹è½½ (Download) æ°”æ³¡ï¼Œä¼´éšå‘ä¸‹çš„ä½ç§»åŠ¨ç”»ã€‚

ğŸ“¤ å¯¼å‡ºæ¨¡å¼ (Exporting) - "å‘å°„/ä¼ é€"

éšå–»ï¼šçµçŒ«ç§¯è“„èƒ½é‡ï¼Œå°†æ•°æ®å‘ä¸Šâ€œå‘å°„â€å‡ºå»ã€‚

ç‰©ç†åŠ¨ä½œ (Physics)ï¼š

Anticipation (è“„åŠ›): èº«ä½“ä¸‹è¹²å‹æ‰ (scaleY: 0.8)ã€‚

Launch (å‘å°„): èº«ä½“ç¬é—´æ‹‰é•¿ (scaleY: 1.2)ï¼Œäº§ç”Ÿå‘ä¸Šçš„å†²åŠ›ã€‚

Settle (æ¢å¤): å¼¹æ€§æ¢å¤åŸçŠ¶ã€‚

çœ¼ç›ï¼šå˜ä¸º ä¼ è¾“è“ (#3B82F6)ï¼Œè§†çº¿å‘ä¸Š (y: -5)ï¼Œç›®é€æ•°æ®ç¦»å¼€ã€‚

åé¦ˆï¼šå¤´é¡¶å¼¹å‡º ä¸Šä¼  (Upload) æ°”æ³¡ï¼Œä¼´éšå‘ä¸Šçš„ä½ç§»åŠ¨ç”»ã€‚

2. å…³é”®ä»£ç å®ç°

A. çŠ¶æ€æ§åˆ¶ (App.tsx)

const [transferState, setTransferState] = useState(null);

const handleSimulateImport = () => {
  setTransferState('import');
  setTimeout(() => setTransferState(null), 2500);
};


B. å½¢å˜åŠ¨ç”» (SpiritCat Component)

åˆ©ç”¨ framer-motion çš„ animate å±æ€§å®šä¹‰å…³é”®å¸§åºåˆ—ã€‚

<motion.div
  // åº•éƒ¨ä¸­å¿ƒä¸ºå˜æ¢åŸç‚¹ï¼Œä¿è¯è¹²ä¸‹/è·³èµ·éƒ½åœ¨åœ°é¢ä¸Š
  style={{ transformOrigin: "bottom center" }}
  animate={
    transferState === 'import' 
      ? { scaleY: [1, 1.1, 0.85, 1], scaleX: [1, 0.9, 1.1, 1] } // æ¥æ”¶éœ‡è¡
      : transferState === 'export'
      ? { scaleY: [1, 0.8, 1.2, 1], scaleX: [1, 1.2, 0.8, 1], y: [0, 5, -20, 0] } // å‘å°„è·³è·ƒ
      : { ...idleState }
  }
  transition={{ duration: 0.6, ease: "easeInOut" }}
>
  {/* SVG Body... */}
</motion.div>
